(this.webpackJsonpyour_wealth=this.webpackJsonpyour_wealth||[]).push([[0],{33:function(e,t,n){},36:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(24),s=n.n(r),i=(n(33),n(11)),o=n(28),u=n(12),l=n.n(u),d=n(16),j=n(18),b=n(5),f=[{label:"Gold g",rate:1},{label:"Gold kg",rate:1e3},{label:"Gold oz",rate:31.1034768}],p=n(1),O=Object(c.createContext)(null),h=function(e){var t=e.children,n=Object(c.useState)([]),a=Object(b.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(0),u=Object(b.a)(i,2),h=u[0],m=u[1],x=Object(c.useState)({}),v=Object(b.a)(x,2),_=v[0],N=v[1],y=Object(c.useState)([]),g=Object(b.a)(y,2),U=g[0],k=g[1],w=Object(c.useState)([]),S=Object(b.a)(w,2),C=S[0],E=S[1],L=Object(c.useState)(f.map((function(e){return e.label}))),M=Object(b.a)(L,1)[0],T=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.nbp.pl/api/exchangerates/tables/a");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,n=[{currency:"z\u0142oty",code:"PLN",mid:1}].concat(Object(d.a)(n[0].rates)),s(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.warn(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://api.nbp.pl/api/cenyzlota");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,m(n[0].cena),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.zonda.exchange/rest/trading/ticker");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,N(n.items),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),G=function(){T(),I(),P()};Object(c.useEffect)((function(){G()}),[]);return Object(c.useEffect)((function(){var e=r.map((function(e){return e.code}));e.sort(),k(e)}),[r]),Object(c.useEffect)((function(){var e=Object(o.a)({},_);for(var t in e)"PLN"!==t.slice(t.indexOf("-")+1)&&delete e[t];(e=Object.keys(e).map((function(e){return e=e.slice(0,e.indexOf("-"))}))).sort(),E(e)}),[_]),Object(p.jsx)(O.Provider,{value:{currenciesMarket:r,gramOfGoldValue:h,cryptoCurrenciesMarket:_,possibleCurrencies:U,possibleCrypto:C,possibleGoldUnits:M,refreshRates:G},children:t})},m=n(49),x=n(50),v=(n(36),function(e){var t=e.content,n=Object(c.useContext)(O).refreshRates;return Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)(i.b,{to:"/",className:"header__link",children:Object(p.jsxs)("div",{className:"header__logo",children:[" ",Object(p.jsx)(m.a,{})," "]})}),Object(p.jsx)("h1",{className:"header__text",children:t}),Object(p.jsx)("button",{className:"header__button tooltip","data-tooltip-content":"update data",onClick:n,children:Object(p.jsx)(x.a,{className:"icon"})})]})}),_=n(3),N=(n(42),function(){return Object(p.jsxs)("div",{className:"home",children:[Object(p.jsx)("h2",{className:"home__title",children:"ABOUT"}),Object(p.jsx)("p",{className:"home__paragraph",children:'This is "YOUR_WEALTH" - a simple web app, done for training purposes. The app is fetching data from public API ( api.nbp.pl and api.zonda.exchange) on currencies, cryptocurrencies, and gold rate. You can input assets in various units and the app will calculate for you the sum of these assets in a unit of your choice using the current rate. Used: React.js, Sass.'}),Object(p.jsx)(i.b,{className:"button home__button",to:"/main",children:"START"})]})}),y=n(52),g=n(51),U="currency",k="crypto",w="gold",S=function(e){var t=e.defaultUnits,n=e.exportUnit,a=e.className,r=Object(c.useContext)(O),s=r.possibleCurrencies,i=r.possibleCrypto,o=r.possibleGoldUnits,u=Object(c.useState)(t.code),l=Object(b.a)(u,2),d=l[0],j=l[1];Object(c.useEffect)((function(){var e;s.findIndex((function(e){return e===d}))>=0?e=U:i.findIndex((function(e){return e===d}))>=0?e=k:o.findIndex((function(e){return e===d}))>=0&&(e=w),n({code:d,type:e})}),[d]);var f=s.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)})),h=i.map((function(e){return Object(p.jsx)("option",{value:e,children:e},e)})),m=o.map((function(e,t){return Object(p.jsx)("option",{value:e,children:e},t)}));return Object(p.jsxs)("select",{name:"unit",value:d,onChange:function(e){j(e.target.value)},className:a,children:[Object(p.jsx)("optgroup",{label:"Fiat",children:f}),Object(p.jsx)("optgroup",{label:"Crypto",children:h}),Object(p.jsx)("optgroup",{label:"Gold",children:m})]})},C=a.a.memo(S),E=(n(43),function(e){var t=e.id,n=e.defaultUnit,a=e.deleteField,r=e.updateInputField,s=Object(c.useState)(""),i=Object(b.a)(s,2),o=i[0],u=i[1],l=Object(c.useState)(n),d=Object(b.a)(l,2),j=d[0],f=d[1];return Object(c.useEffect)((function(){r({id:t,value:o,unit:j})}),[o,j]),Object(c.useEffect)((function(){0===o&&u("")}),[o]),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"form",children:[Object(p.jsx)("input",{className:"form__number",type:"number",min:"0",name:"value",value:o,onChange:function(e){u(Number(e.target.value))},placeholder:"Input value"}),Object(p.jsx)(C,{defaultUnits:j,exportUnit:function(e){f(e)},className:"form__select"}),Object(p.jsx)("button",{type:"button",onClick:function(){a(t)},className:"form__delete tooltip","data-tooltip-content":"close",children:Object(p.jsx)(g.a,{})})]})}),L=a.a.memo(E),M=(n(44),function(e){var t=e.sum,n=e.mainUnit,c=e.setMainUnit;return Object(p.jsxs)("div",{className:"sum",children:[Object(p.jsx)("h3",{className:"sum__text",children:t}),Object(p.jsx)(C,{defaultUnits:n,exportUnit:c,className:"sum__select"})]})}),T=(n(45),0),I=function(){var e=Object(c.useContext)(O),t=e.currenciesMarket,n=e.gramOfGoldValue,a=e.cryptoCurrenciesMarket,r=Object(c.useState)({code:"PLN",type:U}),s=Object(b.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)([{id:0,value:0,unit:i}]),l=Object(b.a)(u,2),j=l[0],h=l[1],m=Object(c.useState)(0),x=Object(b.a)(m,2),v=x[0],_=x[1],N=function(e){var t=j.filter((function(t){return t.id!==e}));h(t)},g=function(e){var t=j.findIndex((function(t){return t.id===e.id})),n=Object(d.a)(j);n[t]=e,h(n)};Object(c.useEffect)((function(){!function(){var e,c,r=j.reduce((function(e,c){if(0===c.value||"PLN"===c.unit.code)return e+c.value;if(c.unit.type===U){var r=t.find((function(e){return e.code===c.unit.code})).mid;return e+c.value*r}if(c.unit.type===k){var s=a["".concat(c.unit.code,"-PLN")].rate;return e+c.value*s}if(c.unit.type===w){var i=f.find((function(e){return e.label===c.unit.code})).rate,o=n*i;return e+c.value*o}}),0);"PLN"===i.code||0===r?c=1:i.type===U?c=t.find((function(e){return i.code===e.code})).mid:i.type===k?c=a["".concat(i.code,"-PLN")].rate:i.type===w&&(c=f.find((function(e){return i.code===e.label})).rate*n),e=r/c;var s=i.type===k||i.type===w;e=e<1&&s?Math.round(1e5*e)/1e5:e<5&&s?Math.round(1e3*e)/1e3:Math.round(100*e)/100,_(e)}()}),[j,i,t,n,a]);var S=j.map((function(e){return Object(p.jsx)(L,{id:e.id,defaultUnit:e.unit,deleteField:N,updateInputField:g},e.id)}));return Object(p.jsxs)("div",{className:"main",children:[Object(p.jsx)("h2",{className:"main__title",children:"INPUT_YOUR_WEALTH"}),S,Object(p.jsx)("button",{className:"main__add tooltip",onClick:function(){var e={id:T+1,value:0,unit:i};T++,h((function(t){return[].concat(Object(d.a)(t),[e])}))},"data-tooltip-content":"add new field",children:Object(p.jsx)(y.a,{})}),Object(p.jsx)("h2",{className:"main__sumTitle",children:"SUM_OF_YOUR_WEALTH"}),Object(p.jsx)(M,{sum:v,mainUnit:i,setMainUnit:o})]})},P=function(){return Object(p.jsxs)(_.d,{children:[Object(p.jsx)(_.b,{path:"/",exact:!0,component:N}),Object(p.jsx)(_.b,{path:"/main",component:I}),Object(p.jsx)(_.a,{to:"/"})]})},G=function(e){var t=e.content;return Object(p.jsx)("footer",{className:"footer",children:Object(p.jsx)("p",{className:"footer__text",children:t})})};n(46);var R=function(){return Object(p.jsx)(h,{children:Object(p.jsxs)(i.a,{children:[Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)("header",{className:"app__header",children:Object(p.jsx)(v,{content:"YOUR_WEALTH"})}),Object(p.jsx)("main",{className:"app__main",children:Object(p.jsx)(P,{})})]}),Object(p.jsx)("footer",{className:"app__footer",children:Object(p.jsx)(G,{content:"contact: functionalweasel@gmail.com"})})]})})};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(R,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.dbd130ae.chunk.js.map